syntax = "proto3";
option go_package = "/";

message Empty {}

message Chat {
    string message = 1;
    int32 timestamp = 2;
}

message User {
    int32 userId = 1;
    int32 timestamp = 2;
}

service Server {
    rpc Broadcast (Chat) returns (Chat) {};
    rpc NewUser (User) returns (Chat) {};
    rpc DropOut (User) returns (Chat) {};
}

service Client {
    rpc Receive (Chat) returns (Chat) {};
    rpc Publish (Chat) returns (Chat) {};
}